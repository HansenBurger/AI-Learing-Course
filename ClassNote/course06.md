# 相机模型

## 一、相机模型

世界坐标系 P(Xw, Yw, Zw)
摄像机坐标系Po(x, y, z)
图像物理坐标系P'(x', y')
图像像素坐标系P(u, v)

### 1.1 坐标系

世界坐标系: 物体真实世界的坐标, 单位是长度单位。
相机坐标系: 相机光心坐标系原点, 单位是长度单位。
图像物理坐标系: 驻广州和图像平面交点为坐标原点, 单位长度单位。
图像像素坐标系: 以图像的顶点为坐标原点, **单位是像素**

### 1.2 相机成像

物体 -> 世界坐标 -> 摄像机坐标 -> 图像物理坐标系 -> 图像像素坐标

### 1.3 世界坐标到相机坐标

欧式变换(几次变换，乘几个变换矩阵)

### 1.4 相机坐标系到物理坐标系

相似三角形

### 1.5 物理坐标系到像素坐标系

u = x/dx + u0
v = y/dy + v0

(u0, v0) 物理坐标系距离像素坐标系的像素长度

dx与dy: x和y方向上一个像素分别占多少个(**可能是小数**)长度单位

u和v为整数

## 二、镜头畸变

镜头畸变分为: 径(半径方向)向畸变和切(切线方向)向畸变两类

原因: 由于制造精度一集组装工艺的偏差引入畸变

### 2.1 径向畸变

枕形(向内), 桶形(向外)

### 2.2 切向畸变

由于透镜被安装到镜头模组的安装偏差导致

### 2.3 畸变矫正

k1, k2, p1, p2, p3(相机标定参数)

### 2.4 透视变换

透视变换: 把原始图像矫正为新图像

仿射变换: 图像从一个向量空间进行一次线性变换和一次平移, 变换到另一个向量空间

求变换矩阵: 已知原图像和新图像的顶点坐标

求八个未知数，所以需要四个点(选取顶点更加方便), a33设定为1

本质**已知的原图像得到一个新图像**

鱼眼->正常，正常->鱼眼，不局限于圆弧转直线
